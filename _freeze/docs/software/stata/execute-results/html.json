{
  "hash": "54c4717e3d26189de834c3bdb445e4a8",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Stata\"\nexecute:\n    eval: true\n---\n\n## What is Stata?\n\nStata is a statistical software package that is commonly used in the social sciences and economics.\nIt is widely used at IPA for data analysis and management. It offers a comprehensive\nlibrary of methods for data cleaning, descriptive statistics, and econometric analysis.\nStata is very well suited for research data workflows and research design tasks,\nincluding power calculations, sample design adjustments, panel data analysis,\ntime series analysis, etc. See [Stata Features](https://www.stata.com/features/)\nfor a full list of what Stata makes available.\n\n## How to install Stata?\n\nIPA staff can download and install the relevant version (`.exe` for Windows,\n`.dmg` for MacOS, or  `.tar.gz` for Linux) from IPA on the Box\n[installation packages](https://ipastorage.app.box.com/folder/129276324764?v=install-stata).\n\n## Coding Conventions\n\nSee the following resources for coding conventions in Stata:\n\n- [DIME Analytics Stata Style Guide](https://worldbank.github.io/dime-data-handbook/coding.html#the-dime-analytics-stata-style-guide)\n- [Sean Higgins's Stata guide](https://github.com/skhiggins/Stata_guide)\non GitHub.\n- [Coding and Data for the Social Sciences](https://web.stanford.edu/~gentzkow/research/CodeAndData.xhtml#magicparlabel-1248),\nby Matthew Gentzkow and Jesse Shapiro\n\n## Using Stata from Python\n\nWithin a Python script or Jupyter Notebook, you can call Stata using [pystata](https://www.stata.com/python/pystata18/notebook/Quick%20Start0.html).\n\n::: {#437f602b .cell execution_count=1}\n``` {.python .cell-code}\nimport stata_setup\n\n# set configuration to the path where Stata is installed and the flavor of Stata\n# in the case below, we're using Stata 18 SE\nstata_setup.config(\"C:/Program Files/Stata18/\", \"se\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n  ___  ____  ____  ____  ____ ®\n /__    /   ____/   /   ____/      Stata 18.0\n___/   /   /___/   /   /___/       SE—Standard Edition\n\n Statistics and Data Science       Copyright 1985-2023 StataCorp LLC\n                                   StataCorp\n                                   4905 Lakeway Drive\n                                   College Station, Texas 77845 USA\n                                   800-782-8272        https://www.stata.com\n                                   979-696-4600        service@stata.com\n\nStata license: Unlimited-user network, expiring 22 Jan 2025\nSerial number: 401809300803\n  Licensed to: Niall Keleher\n               Innovations for Poverty Action\n\nNotes:\n      1. Unicode is supported; see help unicode_advice.\n      2. Maximum number of variables is set to 5,000 but can be increased;\n          see help set_maxvar.\n```\n:::\n:::\n\n\n### Call Stata using pystata API functions\n\n::: {#621f5a24 .cell execution_count=2}\n``` {.python .cell-code}\nfrom pystata import stata\n```\n:::\n\n\n::: {#c71c757b .cell execution_count=3}\n``` {.python .cell-code}\nstata.run(\n    \"\"\"\n    sysuse auto, clear\n    reg mpg price i.foreign\n    \"\"\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n. \n.     sysuse auto, clear\n(1978 automobile data)\n\n.     reg mpg price i.foreign\n\n      Source |       SS           df       MS      Number of obs   =        74\n-------------+----------------------------------   F(2, 71)        =     23.01\n       Model |  960.866305         2  480.433152   Prob > F        =    0.0000\n    Residual |  1482.59315        71  20.8815937   R-squared       =    0.3932\n-------------+----------------------------------   Adj R-squared   =    0.3761\n       Total |  2443.45946        73  33.4720474   Root MSE        =    4.5696\n\n------------------------------------------------------------------------------\n         mpg | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n       price |   -.000959   .0001815    -5.28   0.000     -.001321    -.000597\n             |\n     foreign |\n    Foreign  |   5.245271   1.163592     4.51   0.000     2.925135    7.565407\n       _cons |   25.65058   1.271581    20.17   0.000     23.11512    28.18605\n------------------------------------------------------------------------------\n\n.     \n. \n```\n:::\n:::\n\n\nOr use IPython magic commands to run Stata code in a Jupyter Notebook.\n\n::: {#24c9e231 .cell execution_count=4}\n``` {.python .cell-code}\n%%stata\nsysuse auto, clear\ndescribe\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n. sysuse auto, clear\n(1978 automobile data)\n\n. describe\n\nContains data from C:\\Program Files\\Stata18/ado\\base/a/auto.dta\n Observations:            74                  1978 automobile data\n    Variables:            12                  13 Apr 2022 17:45\n                                              (_dta has notes)\n-------------------------------------------------------------------------------\nVariable      Storage   Display    Value\n    name         type    format    label      Variable label\n-------------------------------------------------------------------------------\nmake            str18   %-18s                 Make and model\nprice           int     %8.0gc                Price\nmpg             int     %8.0g                 Mileage (mpg)\nrep78           int     %8.0g                 Repair record 1978\nheadroom        float   %6.1f                 Headroom (in.)\ntrunk           int     %8.0g                 Trunk space (cu. ft.)\nweight          int     %8.0gc                Weight (lbs.)\nlength          int     %8.0g                 Length (in.)\nturn            int     %8.0g                 Turn circle (ft.)\ndisplacement    int     %8.0g                 Displacement (cu. in.)\ngear_ratio      float   %6.2f                 Gear ratio\nforeign         byte    %8.0g      origin     Car origin\n-------------------------------------------------------------------------------\nSorted by: foreign\n\n. \n```\n:::\n:::\n\n\n::: {#ec57624a .cell execution_count=5}\n``` {.python .cell-code}\n%stata scatter mpg price\n```\n\n::: {.cell-output .cell-output-display}\n![](stata_files/figure-html/cell-6-output-1.svg){}\n:::\n:::\n\n\n## Data Visualization\n\nConsider installing the [ipaplots](https://github.com/PovertyAction/ipaplots) for the IPA graph schema in Stata.\n\n## Learning References\n\nFor more information on learning and using Stata, see the\n[IPA-Stata-Trainings](https://github.com/PovertyAction/IPA-Stata-Trainings) repository on GitHub.\n\n- [Stata Video Tutorials](https://www.stata.com/links/video-tutorials/)\n\n",
    "supporting": [
      "stata_files\\figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}